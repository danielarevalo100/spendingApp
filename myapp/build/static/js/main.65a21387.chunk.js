(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[0],{13:function(e,t){e.exports.listen=function(e,t){window.addEventListener(e,t)},e.exports.post=function(e,t){window.dispatchEvent(new CustomEvent(e,{detail:t}))}},60:function(e,t,a){e.exports=a(95)},66:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),s=a(45),r=a.n(s),o=a(9),i=a(10),c=a(12),u=a(11),m=a(24),d=a(2),f=(a(65),a(48)),h=a.n(f),p=(a(66),a(46)),E=a.n(p),y=a(47),b=a.n(y),g=function(e){var t=e.handleClick;return l.a.createElement("div",{className:"row"},[1,2,3,4,5,6,7,8,9,17,0,15].map((function(e,a){return l.a.createElement("div",{key:e,className:"numPad col s4",onClick:function(a){return t(a,e)}},l.a.createElement("a",{className:"waves-effect waves-light indigo btn"},17==e?l.a.createElement(E.a,null):15==e?l.a.createElement(b.a,null):e))})))},v=a(19),S=a.n(v),w=a(32),k=a(20),C=a.n(k),x={users:{login:function(){var e=Object(w.a)(S.a.mark((function e(t,a){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,C.a.defaults.headers.common.authorization=localStorage.getItem("token"),e.next=4,C.a.post("https://spending-app-backend.herokuapp.com/api/users/login",{password:t});case 4:n=e.sent,a&&200===n.status&&a(n.data.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a(null);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()},transactions:{create:function(){var e=Object(w.a)(S.a.mark((function e(t,a,n){var l,s,r,o,i=arguments;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=i.length>3&&void 0!==i[3]?i[3]:null,s=i.length>4?i[4]:void 0,e.prev=2,(r={email:t,amount:a,type:n}).name="REQUEST"===n?l:null,C.a.defaults.headers.common.authorization=localStorage.getItem("token"),e.next=8,C.a.post("https://spending-app-backend.herokuapp.com/api/transactions",{data:r});case 8:o=e.sent,s&&s(o.data),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0),s(null);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,a,n){return e.apply(this,arguments)}}(),get:function(){var e=Object(w.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,C.a.defaults.headers.common.authorization=localStorage.getItem("token"),e.next=4,C.a.get("https://spending-app-backend.herokuapp.com/api/transactions/");case 4:a=e.sent,t(t?a.data:null),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}},N=a(13),O=a.n(N),j=(a(89),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={password:"",wrongPassword:!1},n}return Object(i.a)(a,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){var e=this;localStorage.getItem("token")&&x.users.login(null,(function(t){t&&e.props.history.push("/dashboard")}))}},{key:"handlePasswordChange",value:function(e){this.setState({password:e.target.value})}},{key:"handleClick",value:function(e,t){var a,n=this,l=this.state.password;if(17==t)a=l.slice(0,-1);else if(15==t){a="";var s=this.props;x.users.login(this.state.password,(function(e){e?(localStorage.setItem("token",e.token),s.history.push("/dashboard")):(n.setState({wrongPassword:!0}),setTimeout((function(){return n.setState({wrongPassword:!1})}),1500))}))}else a=l+t;this.setState({password:a})}},{key:"render",value:function(){var e=this,t=this.state.password;return l.a.createElement("div",{className:"container",style:{display:"flex",height:window.innerHeight+"px",alignItems:"center"}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s12 center-align"},l.a.createElement(h.a,{color:"primary",style:{fontSize:70}})),l.a.createElement("div",{className:"col s12 m4 offset-m4 center-align"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s12"},l.a.createElement("input",{value:t||"",type:"number",placeholder:"Password",className:"center-align",onChange:function(t){return e.handlePasswordChange(t)}}),this.state.wrongPassword?l.a.createElement("div",{className:"login-toast"},l.a.createElement("p",null,"Wrong Password")):null),l.a.createElement("div",{className:"col s12 center-align"},l.a.createElement(g,{handleClick:this.handleClick.bind(this)}))))))}}]),a}(n.Component)),z=a(23),D=a(25),L=a(26),I=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.hidden,a=e.backgroundImage,n=e.onClick,s=e.reference,r=e.id_reference,o=e.onscroll_reference;if(t)return null;var i=Object.assign({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",boxSizing:"border-box"},this.props.style);return a&&(i.backgroundSize="cover",i.backgroundPosition="bottom",i.backgroundImage="url("+a+")"),null!=n&&(i.cursor="pointer"),l.a.createElement("div",{className:this.props.className,style:i,onClick:n,ref:s,id:r,onScroll:o},this.props.children)}}]),a}(n.Component);I.defaultProps={hidden:!1};var A=I,M=a(49),P=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.children,n=t.fontSize,s=(t.fontStyle,t.textAlign),r=t.color,o=t.uppercase,i=t.nowrap,c=t.onClick,u=t.animation,m=t.animationDelay,d=t.id_reference,f=t.className,h=(t.italic,Object.assign({display:"flex",alignItems:"center",overflow:"hidden",fontSize:n+"rem",textAlign:s,color:r,maxWidth:"100%"},this.props.style));return o&&null!=a&&"string"==typeof a&&(Object(M.a)("children"),a=a.toUpperCase()),null!=c&&(h.cursor="pointer"),1==i&&(h.whiteSpace="nowrap"),l.a.createElement("span",{id:d,style:h,className:f,onClick:c,ref:function(t){e.label=t},"data-aos":u,"data-aos-delay":m},a)}}]),a}(n.Component);P.defaultProps={fontSize:1,fontStyle:"regular",textAlign:"center",color:"#1e1e1e",uppercase:!1};var R=P,_=function(e){var t=e.handleSubmit,a=e.data;return l.a.createElement(A,{style:{width:"100%",padding:"15px"}},l.a.createElement("form",{style:{width:"100%"},onSubmit:function(e){e.preventDefault(),t()}},l.a.createElement(A,null,l.a.createElement(R,{fontSize:1.5},"Amount"),l.a.createElement("input",{name:"amount",value:a.amount,onChange:function(t){return e.handleForm(t,"send")},style:{textAlign:"center"},type:"number",placeholder:"Amount"})),l.a.createElement(R,{fontSize:1.5},"Who do you want to send?"),l.a.createElement(A,{style:{width:"100%"}},l.a.createElement("input",{value:a.email,onChange:function(t){return e.handleForm(t,"send")},name:"email",type:"email",placeholder:"Enter email"}),l.a.createElement("input",{value:a.emailConfirmation,onChange:function(t){return e.handleForm(t,"send")},name:"emailConfirmation",type:"email",placeholder:"Confirm email "})),l.a.createElement("button",{className:"btn primary",type:"submit"},l.a.createElement(R,{fontSize:1.2,color:"white"},"SEND"))))},H=function(e){var t=e.handleSubmit,a=e.handleForm,n=e.data;return l.a.createElement(A,{style:{width:"100%",padding:"15px"}},l.a.createElement("form",{style:{width:"100%"},onSubmit:function(e){e.preventDefault(),t()}},l.a.createElement(A,null,l.a.createElement(R,{fontSize:1.5},"Amount"),l.a.createElement("input",{value:n.amount,onChange:function(e){return a(e,"request")},name:"amount",style:{textAlign:"center"},type:"number",placeholder:"Amount"})),l.a.createElement(R,{fontSize:1.5},"Who sent you?"),l.a.createElement(A,{style:{width:"100%"}},l.a.createElement("input",{value:n.name,onChange:function(e){return a(e,"request")},name:"name",type:"text",placeholder:"Name"}),l.a.createElement("input",{value:n.email,onChange:function(e){return a(e,"request")},name:"email",type:"email",placeholder:"Enter email"})),l.a.createElement("button",{className:"btn primary",type:"submit"},l.a.createElement(R,{fontSize:1.2,color:"white"},"SEND"))))},q=a(50),T=a.n(q),W=a(51),F=a.n(W),U=a(53),B=a.n(U),Q=a(52),$=a.n(Q),J=a(54),Y=a.n(J),G=(a(90),function(e){var t=e.userName,a=e.show,n=e.onClose;return l.a.createElement(l.a.Fragment,null,a?l.a.createElement(A,{className:"menu-background",style:{position:"absolute",width:"100%",height:"100%",top:"0",backgroundColor:"rgba(0,0,0,0.6)"}}):null,l.a.createElement(A,{className:"menu",style:{left:a?"0":"-100%"}},l.a.createElement(A,{className:"menu-header",style:{flexDirection:"row"}},l.a.createElement(R,{color:"white",fontSize:1.3},t),l.a.createElement(T.a,{onClick:function(){return n()},style:{fill:"#ffffff",fontSize:35,marginLeft:"30px"}})),l.a.createElement(A,{className:"menu-navigation",style:{width:"100%"}},l.a.createElement(m.b,{to:"/dashboard",style:{width:"100%"}},l.a.createElement(A,{className:"menu-navigation-item",style:{flexDirection:"row",justifyContent:"flex-start",width:"100%"}},l.a.createElement(F.a,{style:{fill:"#1e1e1e",fontSize:25}}),l.a.createElement(R,{fontSize:1},"Home"))),l.a.createElement(m.b,{to:"/activity",style:{width:"100%"}},l.a.createElement(A,{className:"menu-navigation-item",style:{flexDirection:"row",justifyContent:"flex-start",width:"100%"}},l.a.createElement($.a,{style:{fill:"#1e1e1e",fontSize:25}}),l.a.createElement(R,{fontSize:1},"Activity"))),l.a.createElement(A,{className:"menu-navigation-item",style:{flexDirection:"row",justifyContent:"flex-start",width:"100%"}},l.a.createElement(B.a,{style:{fill:"#1e1e1e",fontSize:25}}),l.a.createElement(R,{fontSize:1},"Receipt")),l.a.createElement(A,{onClick:function(){localStorage.clear(),e.history.push("/")},className:"menu-navigation-item",style:{flexDirection:"row",justifyContent:"flex-start",width:"100%"}},l.a.createElement(Y.a,{style:{fill:"#1e1e1e",fontSize:25}}),l.a.createElement(R,{fontSize:1},"Logout")))))}),K=(a(93),a(29)),V=a.n(K),X=a(30),Z=a.n(X),ee=a(28),te=a.n(ee),ae=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={userName:null,balance:null,showSend:!0,menu:!1,type:"SEND",toastMessage:null,send:{},request:{}},n.handleInputChange=n.handleInputChange.bind(Object(L.a)(n)),n}return Object(i.a)(a,[{key:"handleInputChange",value:function(e,t){var a=e.target.name,n=e.target.value,l=t;this.setState(Object(D.a)(Object(D.a)({},this.state),{},Object(z.a)({},l,Object(D.a)(Object(D.a)({},this.state[l]),{},Object(z.a)({},a,n)))))}},{key:"handleCloseMenu",value:function(){this.setState({menu:!1})}},{key:"handleSendSubmit",value:function(){var e=this,t=this.state,a=t.balance,n=t.type,l=t.send,s=t.request;"SEND"===n?l.email&&l.amount&&l.emailConfirmation?l.email===l.emailConfirmation?l.amount<a?x.transactions.create(l.email,l.amount,n,null,(function(t){"newBalance"in t&&e.setState({toastMessage:"Transfer successful",balance:t.newBalance,send:{}})})):this.setState({toastMessage:"Insuficient founds"}):this.setState({toastMessage:"Emails does not match"}):this.setState({toastMessage:"You must fill all form fields"}):"REQUEST"===n&&(s.email&&s.name&&s.amount?x.transactions.create(s.email,s.amount,n,s.name,(function(t){e.setState({toastMessage:"Transfer successful",request:{}})})):this.setState({toastMessage:"You must fill all form fields"}))}},{key:"componentDidUpdate",value:function(){var e=this;this.state.toastMessage&&setTimeout((function(){e.setState({toastMessage:null})}),2e3)}},{key:"componentDidMount",value:function(){this.checkLogin()}},{key:"checkLogin",value:function(){var e=this;O.a.post("SHOW_LOADER"),x.users.login(null,(function(t){t?(e.setState({userName:t.user.userName,balance:t.user.balance}),O.a.post("HIDE_LOADER")):(O.a.post("HIDE_LOADER"),e.props.history.push("/"))}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.balance,n=t.userName,s=t.showSend,r=t.menu,o=t.request,i=t.send;return l.a.createElement(A,{className:"dashboard",style:{width:"100%",height:"100%",justifyContent:"flex-start"}},l.a.createElement(A,{className:"dashboard-header",style:{width:"100%"}},l.a.createElement(te.a,{onClick:function(){return e.setState({menu:!r})},style:{fill:"#ffffff",fontSize:35,position:"absolute",left:"15px"}}),l.a.createElement(R,{color:"white",fontSize:2.4},"Home")),l.a.createElement(A,{className:"dashboard-balance"},l.a.createElement(R,{fontSize:2.5},a?"$"+a:"$0"),l.a.createElement(A,null,l.a.createElement(R,{fontSize:1},"Current balance"))),l.a.createElement(A,{className:"dashboard-actions"},l.a.createElement(A,{className:"dashboard-actions-tabs"},l.a.createElement(A,{className:"dashboard-actions-tabs-send",onClick:function(){e.setState({showSend:!0,type:"SEND"})}},l.a.createElement(V.a,null),l.a.createElement(R,null,"send")),l.a.createElement(A,{className:"dashboard-actions-tabs-request",onClick:function(){e.setState({showSend:!1,type:"REQUEST"})},style:{borderLeft:"1px solid #cccccc"}},l.a.createElement(Z.a,null),l.a.createElement(R,null,"request")),l.a.createElement(A,{className:"dashboard-actions-tabs-marker",style:{left:s?"0":"50%"}})),s?l.a.createElement(_,{handleForm:this.handleInputChange,handleSubmit:this.handleSendSubmit.bind(this),data:{email:i.email||"",emailConfirmation:i.emailConfirmation||"",amount:i.amount||""}}):l.a.createElement(H,{handleSubmit:this.handleSendSubmit.bind(this),handleForm:this.handleInputChange,data:{email:o.email||"",name:o.name||"",amount:o.amount||""}})),l.a.createElement(G,{history:this.props.history,show:r,userName:n,onClose:this.handleCloseMenu.bind(this)}),l.a.createElement(A,{className:"dashboard-toast",style:{width:"100%",position:"absolute",top:this.state.toastMessage?"0":"-30%",transition:".3s",backgroundColor:"#221858",padding:"20px"}},l.a.createElement(R,{fontSize:1.2,color:"white"},this.state.toastMessage)))}}]),a}(n.Component),ne=a(57),le=a.n(ne),se=a(55),re=a.n(se),oe=a(56),ie=a.n(oe),ce=a(108),ue=(a(94),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={menu:!1,userName:null,balance:0,id:null,transactions:[],showLoader:!0},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.checkLogin()}},{key:"checkLogin",value:function(){var e=this;O.a.post("SHOW_LOADER"),x.users.login(null,(function(t){if(t){e.setState({userName:t.user.userName,balance:t.user.balance,id:t.user._id});e.state.id;x.transactions.get((function(t){e.setState({transactions:t,showLoader:!1})})),O.a.post("HIDE_LOADER")}else O.a.post("HIDE_LOADER"),e.props.history.push("/")}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.menu,n=t.userName,s=t.transactions,r=t.showLoader;return l.a.createElement(A,{className:"activity",style:{width:"100%",height:"100%",justifyContent:"flex-start"}},l.a.createElement(A,{className:"activity-header",style:{width:"100%"}},l.a.createElement(te.a,{onClick:function(){return e.setState({menu:!a})},style:{fill:"#ffffff",fontSize:35,position:"absolute",left:"15px"}}),l.a.createElement(R,{color:"white",fontSize:2.4},"Activity")),l.a.createElement(A,{className:"activity-container",style:{width:"100%"}},r?l.a.createElement(A,{style:{padding:"40px"}},l.a.createElement(ce.a,null)):null,s.map((function(e){return l.a.createElement(A,{style:{width:"100%",padding:"10px",borderBottom:"1px solid #dddddd",flexDirection:"row",justifyContent:"flex-start"},key:e._id},l.a.createElement(A,{style:{width:"40px",height:"40px",borderRadius:"50px",backgroundColor:"#8895dc"}},"SEND"===e.type?l.a.createElement(V.a,{style:{fill:"#ffffff"}}):l.a.createElement(Z.a,{style:{fill:"#ffffff"}})),l.a.createElement(A,{style:{marginLeft:"10px"}},l.a.createElement(R,{fontSize:1.1},"To: ".concat(e.email))),l.a.createElement(A,{style:{marginLeft:"auto"}},"PENDING"==e.status?l.a.createElement(re.a,{style:{fill:"#ffcf64",fontSize:"35px"}}):"DONE"==e.status?l.a.createElement(ie.a,{style:{fill:"#049a04",fontSize:"35px"}}):l.a.createElement(le.a,{style:{fill:"#e31b1b",fontSize:"35px"}}),l.a.createElement(R,{fontSize:.9},"".concat("SEND"==e.type?"-":""," $").concat(e.amount))))}))),l.a.createElement(G,{history:this.props.history,show:a,userName:n,onClose:function(){return e.setState({menu:!1})}}))}}]),a}(n.Component)),me=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={showLoader:!1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;O.a.listen("SHOW_LOADER",(function(){e.setState({showLoader:!0})})),O.a.listen("HIDE_LOADER",(function(){e.setState({showLoader:!1})}))}},{key:"render",value:function(){return l.a.createElement(m.a,null,this.state.showLoader?l.a.createElement(A,{style:{position:"fixed",top:"0",left:"0",width:"100%",height:"100vh",zIndex:"10",backgroundColor:"#ffffff"}},l.a.createElement(ce.a,null)):null,l.a.createElement(d.c,null,l.a.createElement(d.a,{exact:!0,path:"/",component:j}),l.a.createElement(d.a,{exact:!0,path:"/dashboard",component:ae}),l.a.createElement(d.a,{exact:!0,path:"/activity",component:ue})))}}]),a}(n.Component);r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(me,null)),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.65a21387.chunk.js.map