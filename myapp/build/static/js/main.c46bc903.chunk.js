(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[0],{4:function(e,t){e.exports.listen=function(e,t){window.addEventListener(e,t)},e.exports.post=function(e,t){window.dispatchEvent(new CustomEvent(e,{detail:t}))}},60:function(e,t,a){e.exports=a(96)},66:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(48),s=a.n(o),l=a(8),i=a(9),c=a(11),u=a(10),m=a(26),f=a(2),d=(a(65),a(51)),h=a.n(d),p=(a(66),a(49)),E=a.n(p),y=a(50),g=a.n(y),b=function(e){var t=e.handleClick;return r.a.createElement("div",{className:"row"},[1,2,3,4,5,6,7,8,9,17,0,15].map((function(e,a){return r.a.createElement("div",{key:e,className:"numPad col s4",onClick:function(a){return t(a,e)}},r.a.createElement("a",{className:"waves-effect waves-light indigo btn"},17==e?r.a.createElement(E.a,null):15==e?r.a.createElement(g.a,null):e))})))},v=a(19),S=a.n(v),w=a(27),x=a(20),k=a.n(x),N=-1!==window.location.href.indexOf("localhost")?"http://localhost:8080/api/":"https://spending-app-backend.herokuapp.com/api/",C={users:{login:function(){var e=Object(w.a)(S.a.mark((function e(t,a){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,k.a.defaults.headers.common.authorization=localStorage.getItem("token"),e.next=4,k.a.post(N+"users/login",{password:t});case 4:n=e.sent,a&&200===n.status&&a(n.data.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a(null);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()},transactions:{create:function(){var e=Object(w.a)(S.a.mark((function e(t,a,n){var r,o,s,l,i=arguments;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>3&&void 0!==i[3]?i[3]:null,o=i.length>4?i[4]:void 0,e.prev=2,(s={email:t,amount:a,type:n}).name="REQUEST"===n?r:null,k.a.defaults.headers.common.authorization=localStorage.getItem("token"),e.next=8,k.a.post(N+"transactions",{data:s});case 8:l=e.sent,o&&o(l.data),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0),o(null);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,a,n){return e.apply(this,arguments)}}(),get:function(){var e=Object(w.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,k.a.defaults.headers.common.authorization=localStorage.getItem("token"),e.next=4,k.a.get(N+"transactions");case 4:a=e.sent,t(t?a.data:null),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},admin:{transactions:{get:function(){var e=Object(w.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,k.a.defaults.headers.common.authorization=localStorage.getItem("token"),e.next=4,k.a.get(N+"admin/transactions");case 4:a=e.sent,t(t?a.data:[]),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}}},O=a(4),D=a.n(O),j=(a(89),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={password:"",wrongPassword:!1},n}return Object(i.a)(a,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){var e=this;localStorage.getItem("token")&&C.users.login(null,(function(t){t&&(D.a.post("USER_LOGGED_IN"),1==t.user.type?e.props.history.push("/admin"):e.props.history.push("/dashboard"))}))}},{key:"handlePasswordChange",value:function(e){this.setState({password:e.target.value})}},{key:"handleClick",value:function(e,t){var a,n=this,r=this.state.password;if(17==t)a=r.slice(0,-1);else if(15==t){D.a.post("SHOW_LOADER"),a="";var o=this.props;C.users.login(this.state.password,(function(e){D.a.post("HIDE_LOADER"),e?(localStorage.setItem("token",e.token),D.a.post("USER_LOGGED_IN"),1==e.user.type?o.history.push("/admin"):o.history.push("/dashboard")):(n.setState({wrongPassword:!0}),setTimeout((function(){return n.setState({wrongPassword:!1})}),1500))}))}else a=r+t;this.setState({password:a})}},{key:"render",value:function(){var e=this,t=this.state.password;return r.a.createElement("div",{className:"container",style:{display:"flex",height:window.innerHeight+"px",alignItems:"center"}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 center-align"},r.a.createElement(h.a,{color:"primary",style:{fontSize:70}})),r.a.createElement("div",{className:"col s12 m4 offset-m4 center-align"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("input",{value:t||"",type:"number",placeholder:"Password",className:"center-align",onChange:function(t){return e.handlePasswordChange(t)}}),this.state.wrongPassword?r.a.createElement("div",{className:"login-toast"},r.a.createElement("p",null,"Wrong Password")):null),r.a.createElement("div",{className:"col s12 center-align"},r.a.createElement(b,{handleClick:this.handleClick.bind(this)}))))))}}]),a}(n.Component)),z=a(25),L=a(28),I=a(29),A=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.hidden,a=e.backgroundImage,n=e.onClick,o=e.reference,s=e.id_reference,l=e.onscroll_reference;if(t)return null;var i=Object.assign({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",boxSizing:"border-box"},this.props.style);return a&&(i.backgroundSize="cover",i.backgroundPosition="bottom",i.backgroundImage="url("+a+")"),null!=n&&(i.cursor="pointer"),r.a.createElement("div",{className:this.props.className,style:i,onClick:n,ref:o,id:s,onScroll:l},this.props.children)}}]),a}(n.Component);A.defaultProps={hidden:!1};var _=A,R=a(52),M=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.children,n=t.fontSize,o=(t.fontStyle,t.textAlign),s=t.color,l=t.uppercase,i=t.nowrap,c=t.onClick,u=t.animation,m=t.animationDelay,f=t.id_reference,d=t.className,h=(t.italic,Object.assign({display:"flex",alignItems:"center",overflow:"hidden",fontSize:n+"rem",textAlign:o,color:s,maxWidth:"100%"},this.props.style));return l&&null!=a&&"string"==typeof a&&(Object(R.a)("children"),a=a.toUpperCase()),null!=c&&(h.cursor="pointer"),1==i&&(h.whiteSpace="nowrap"),r.a.createElement("span",{id:f,style:h,className:d,onClick:c,ref:function(t){e.label=t},"data-aos":u,"data-aos-delay":m},a)}}]),a}(n.Component);M.defaultProps={fontSize:1,fontStyle:"regular",textAlign:"center",color:"#1e1e1e",uppercase:!1};var H=M,P=function(e){var t=e.handleSubmit,a=e.data;return r.a.createElement(_,{style:{width:"100%",padding:"15px"}},r.a.createElement("form",{style:{width:"100%"},onSubmit:function(e){e.preventDefault(),t()}},r.a.createElement(_,null,r.a.createElement(H,{fontSize:1.5},"Amount"),r.a.createElement("input",{name:"amount",value:a.amount,onChange:function(t){return e.handleForm(t,"send")},style:{textAlign:"center"},type:"number",placeholder:"Amount"})),r.a.createElement(H,{fontSize:1.5},"Who do you want to send?"),r.a.createElement(_,{style:{width:"100%"}},r.a.createElement("input",{value:a.email,onChange:function(t){return e.handleForm(t,"send")},name:"email",type:"email",placeholder:"Enter email"}),r.a.createElement("input",{value:a.emailConfirmation,onChange:function(t){return e.handleForm(t,"send")},name:"emailConfirmation",type:"email",placeholder:"Confirm email "})),r.a.createElement("button",{className:"btn primary",type:"submit"},r.a.createElement(H,{fontSize:1.2,color:"white"},"SEND"))))},q=function(e){var t=e.handleSubmit,a=e.handleForm,n=e.data;return r.a.createElement(_,{style:{width:"100%",padding:"15px"}},r.a.createElement("form",{style:{width:"100%"},onSubmit:function(e){e.preventDefault(),t()}},r.a.createElement(_,null,r.a.createElement(H,{fontSize:1.5},"Amount"),r.a.createElement("input",{value:n.amount,onChange:function(e){return a(e,"request")},name:"amount",style:{textAlign:"center"},type:"number",placeholder:"Amount"})),r.a.createElement(H,{fontSize:1.5},"Who sent you?"),r.a.createElement(_,{style:{width:"100%"}},r.a.createElement("input",{value:n.name,onChange:function(e){return a(e,"request")},name:"name",type:"text",placeholder:"Name"}),r.a.createElement("input",{value:n.email,onChange:function(e){return a(e,"request")},name:"email",type:"email",placeholder:"Enter email"})),r.a.createElement("button",{className:"btn primary",type:"submit"},r.a.createElement(H,{fontSize:1.2,color:"white"},"SEND"))))},F=a(53),T=a.n(F),U=a(54),W=a.n(U),G=a(56),B=a.n(G),$=a(55),Q=a.n($),Y=a(57),J=a.n(Y),K=(a(90),function(e){var t=e.userName,a=e.show,n=e.onClose;return r.a.createElement(r.a.Fragment,null,a?r.a.createElement(_,{className:"menu-background",style:{position:"absolute",width:"100%",height:"100%",top:"0",backgroundColor:"rgba(0,0,0,0.6)"}}):null,r.a.createElement(_,{className:"menu",style:{left:a?"0":"-100%"}},r.a.createElement(_,{className:"menu-header",style:{flexDirection:"row"}},r.a.createElement(H,{color:"white",fontSize:1.3},t),r.a.createElement(T.a,{onClick:function(){return n()},style:{fill:"#ffffff",fontSize:35,marginLeft:"30px"}})),r.a.createElement(_,{className:"menu-navigation",style:{width:"100%"}},r.a.createElement(m.b,{to:"/dashboard",style:{width:"100%"}},r.a.createElement(_,{className:"menu-navigation-item",style:{flexDirection:"row",justifyContent:"flex-start",width:"100%"}},r.a.createElement(W.a,{style:{fill:"#1e1e1e",fontSize:25}}),r.a.createElement(H,{fontSize:1},"Home"))),r.a.createElement(m.b,{to:"/activity",style:{width:"100%"}},r.a.createElement(_,{className:"menu-navigation-item",style:{flexDirection:"row",justifyContent:"flex-start",width:"100%"}},r.a.createElement(Q.a,{style:{fill:"#1e1e1e",fontSize:25}}),r.a.createElement(H,{fontSize:1},"Activity"))),r.a.createElement(_,{className:"menu-navigation-item",style:{flexDirection:"row",justifyContent:"flex-start",width:"100%"}},r.a.createElement(B.a,{style:{fill:"#1e1e1e",fontSize:25}}),r.a.createElement(H,{fontSize:1},"Receipt")),r.a.createElement(_,{onClick:function(){localStorage.clear(),e.history.push("/")},className:"menu-navigation-item",style:{flexDirection:"row",justifyContent:"flex-start",width:"100%"}},r.a.createElement(J.a,{style:{fill:"#1e1e1e",fontSize:25}}),r.a.createElement(H,{fontSize:1},"Logout")))))}),V=(a(93),a(21)),X=a.n(V),Z=a(22),ee=a.n(Z),te=a(31),ae=a.n(te),ne=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={userName:null,balance:null,showSend:!0,menu:!1,type:"SEND",toastMessage:null,send:{},request:{}},n.handleInputChange=n.handleInputChange.bind(Object(I.a)(n)),n}return Object(i.a)(a,[{key:"handleInputChange",value:function(e,t){var a=e.target.name,n=e.target.value,r=t;this.setState(Object(L.a)(Object(L.a)({},this.state),{},Object(z.a)({},r,Object(L.a)(Object(L.a)({},this.state[r]),{},Object(z.a)({},a,n)))))}},{key:"handleCloseMenu",value:function(){this.setState({menu:!1})}},{key:"handleSendSubmit",value:function(){var e=this,t=this.state,a=t.balance,n=t.type,r=t.send,o=t.request;"SEND"===n?r.email&&r.amount&&r.emailConfirmation?r.email===r.emailConfirmation?(console.log("send amount",r.amount),console.log("balance",a),console.log("comparison",Number(r.amount)<=Number(a)),Number(r.amount)<=Number(a)?C.transactions.create(r.email,r.amount,n,null,(function(t){"newBalance"in t&&e.setState({toastMessage:"Transfer successful",balance:t.newBalance,send:{}})})):this.setState({toastMessage:"Insuficient founds"})):this.setState({toastMessage:"Emails does not match"}):this.setState({toastMessage:"You must fill all form fields"}):"REQUEST"===n&&(o.email&&o.name&&o.amount?C.transactions.create(o.email,o.amount,n,o.name,(function(t){e.setState({toastMessage:"Transfer successful",request:{}})})):this.setState({toastMessage:"You must fill all form fields"}))}},{key:"componentDidUpdate",value:function(){var e=this;this.state.toastMessage&&setTimeout((function(){e.setState({toastMessage:null})}),2e3)}},{key:"componentDidMount",value:function(){this.checkLogin()}},{key:"checkLogin",value:function(){var e=this;D.a.post("SHOW_LOADER"),C.users.login(null,(function(t){t?(e.setState({userName:t.user.userName,balance:parseInt(t.user.balance).toFixed(1)}),D.a.post("HIDE_LOADER")):(D.a.post("HIDE_LOADER"),e.props.history.push("/"))}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.balance,n=t.userName,o=t.showSend,s=t.menu,l=t.request,i=t.send;return r.a.createElement(_,{className:"dashboard",style:{width:"100%",height:"100%",justifyContent:"flex-start"}},r.a.createElement(_,{className:"dashboard-header",style:{width:"100%"}},r.a.createElement(ae.a,{onClick:function(){return e.setState({menu:!s})},style:{fill:"#ffffff",fontSize:35,position:"absolute",left:"15px"}}),r.a.createElement(H,{color:"white",fontSize:2.4},"Home")),r.a.createElement(_,{className:"dashboard-balance"},r.a.createElement(H,{fontSize:2.5},a?"$"+a:"$0"),r.a.createElement(_,null,r.a.createElement(H,{fontSize:1},"Current balance"))),r.a.createElement(_,{className:"dashboard-actions"},r.a.createElement(_,{className:"dashboard-actions-tabs"},r.a.createElement(_,{className:"dashboard-actions-tabs-send",onClick:function(){e.setState({showSend:!0,type:"SEND"})}},r.a.createElement(X.a,null),r.a.createElement(H,null,"send")),r.a.createElement(_,{className:"dashboard-actions-tabs-request",onClick:function(){e.setState({showSend:!1,type:"REQUEST"})},style:{borderLeft:"1px solid #cccccc"}},r.a.createElement(ee.a,null),r.a.createElement(H,null,"request")),r.a.createElement(_,{className:"dashboard-actions-tabs-marker",style:{left:o?"0":"50%"}})),o?r.a.createElement(P,{handleForm:this.handleInputChange,handleSubmit:this.handleSendSubmit.bind(this),data:{email:i.email||"",emailConfirmation:i.emailConfirmation||"",amount:i.amount||""}}):r.a.createElement(q,{handleSubmit:this.handleSendSubmit.bind(this),handleForm:this.handleInputChange,data:{email:l.email||"",name:l.name||"",amount:l.amount||""}})),r.a.createElement(K,{history:this.props.history,show:s,userName:n,onClose:this.handleCloseMenu.bind(this)}),r.a.createElement(_,{className:"dashboard-toast",style:{width:"100%",position:"absolute",top:this.state.toastMessage?"0":"-30%",transition:".3s",backgroundColor:"#221858",padding:"20px"}},r.a.createElement(H,{fontSize:1.2,color:"white"},this.state.toastMessage)))}}]),a}(n.Component),re=a(33),oe=a.n(re),se=a(32),le=a.n(se),ie=(a(94),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={transactions:[]},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;C.admin.transactions.get((function(t){e.setState({transactions:t})}))}},{key:"render",value:function(){var e=this;return r.a.createElement(_,{style:{width:"100%",height:"100vh",justifyContent:"flex-start"}},r.a.createElement(_,{className:"admin-dashboard-header",style:{width:"100%"}},r.a.createElement(H,{color:"white",fontSize:2.4},"Pending transactions")),r.a.createElement(_,{style:{flex:"1",width:"100%",justifyContent:"flex-start"}},this.state.transactions.map((function(t){return r.a.createElement(_,{style:{width:"100%",padding:"10px",borderBottom:"1px solid #dddddd",flexDirection:"row",justifyContent:"flex-start"},key:t._id},r.a.createElement(_,{style:{width:"40px",height:"40px",borderRadius:"50px",backgroundColor:"#8895dc"}},"SEND"===t.type?r.a.createElement(X.a,{style:{fill:"#ffffff"}}):r.a.createElement(ee.a,{style:{fill:"#ffffff"}})),r.a.createElement(_,{style:{marginLeft:"10px",alignItems:"flex-start"}},r.a.createElement(H,{fontSize:1.1},"".concat(t.user.userName," ").concat("SEND"===t.type?"send to: ":"Request from: "," ").concat(t.email," - $").concat(t.amount)),r.a.createElement(H,null,"Transaction date:  ",e.getDate(t.date))),r.a.createElement(_,{style:{marginLeft:"auto"}},r.a.createElement(le.a,{style:{fill:"#049a04",fontSize:"45px"}})),r.a.createElement(_,{style:{marginLeft:"15px"}},r.a.createElement(oe.a,{style:{fill:"#e31b1b",fontSize:"45px"}})))}))))}},{key:"getDate",value:function(e){var t=new Date(e);return t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()}}]),a}(n.Component)),ce=a(35),ue=a.n(ce),me=a(109),fe=(a(95),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={menu:!1,userName:null,balance:0,id:null,transactions:[],showLoader:!0},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.checkLogin()}},{key:"checkLogin",value:function(){var e=this;D.a.post("SHOW_LOADER"),C.users.login(null,(function(t){if(t){e.setState({userName:t.user.userName,balance:t.user.balance,id:t.user._id});e.state.id;C.transactions.get((function(t){e.setState({transactions:t,showLoader:!1})})),D.a.post("HIDE_LOADER")}else D.a.post("HIDE_LOADER"),e.props.history.push("/")}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.menu,n=t.userName,o=t.transactions,s=t.showLoader;return r.a.createElement(_,{className:"activity",style:{width:"100%",height:"100%",justifyContent:"flex-start"}},r.a.createElement(_,{className:"activity-header",style:{width:"100%"}},r.a.createElement(ae.a,{onClick:function(){return e.setState({menu:!a})},style:{fill:"#ffffff",fontSize:35,position:"absolute",left:"15px"}}),r.a.createElement(H,{color:"white",fontSize:2.4},"Activity")),r.a.createElement(_,{className:"activity-container",style:{width:"100%"}},s?r.a.createElement(_,{style:{padding:"40px"}},r.a.createElement(me.a,null)):null,o.map((function(e){return r.a.createElement(_,{style:{width:"100%",padding:"10px",borderBottom:"1px solid #dddddd",flexDirection:"row",justifyContent:"flex-start"},key:e._id},r.a.createElement(_,{style:{width:"40px",height:"40px",borderRadius:"50px",backgroundColor:"#8895dc"}},"SEND"===e.type?r.a.createElement(X.a,{style:{fill:"#ffffff"}}):r.a.createElement(ee.a,{style:{fill:"#ffffff"}})),r.a.createElement(_,{style:{marginLeft:"10px"}},r.a.createElement(H,{fontSize:1.1},"".concat("SEND"===e.type?"To: ":"From: "," ").concat(e.email))),r.a.createElement(_,{style:{marginLeft:"auto"}},"PENDING"==e.status?r.a.createElement(ue.a,{style:{fill:"#ffcf64",fontSize:"35px"}}):"DONE"==e.status?r.a.createElement(le.a,{style:{fill:"#049a04",fontSize:"35px"}}):r.a.createElement(oe.a,{style:{fill:"#e31b1b",fontSize:"35px"}}),r.a.createElement(H,{fontSize:.9},"".concat("SEND"==e.type?"-":""," $").concat(e.amount))))}))),r.a.createElement(K,{history:this.props.history,show:a,userName:n,onClose:function(){return e.setState({menu:!1})}}))}}]),a}(n.Component)),de=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={showLoader:!1,userAuth:!1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;D.a.listen("SHOW_LOADER",(function(){e.setState({showLoader:!0})})),D.a.listen("USER_LOGGED_IN",(function(){e.setState({userAuth:!0})})),D.a.listen("USER_LOGGED_OUT",(function(){e.setState({userAuth:!1})})),D.a.listen("HIDE_LOADER",(function(){e.setState({showLoader:!1})})),this.checkLogin()}},{key:"checkLogin",value:function(){var e=this;D.a.post("SHOW_LOADER"),C.users.login(null,(function(t){D.a.post("HIDE_LOADER"),console.log("here"),t&&e.setState({userAuth:!0})}))}},{key:"render",value:function(){var e=this.state,t=e.showLoader,a=e.userAuth;return r.a.createElement(m.a,null,t?r.a.createElement(_,{style:{position:"fixed",top:"0",left:"0",width:"100%",height:"100vh",zIndex:"10",backgroundColor:"#ffffff"}},r.a.createElement(H,{fontSize:"3",color:"#3f51b5"},"Arevalo Banking"),r.a.createElement(me.a,null)):null,r.a.createElement(f.c,null,a&&r.a.createElement(f.a,{exact:!0,path:"/dashboard",component:ne}),a&&r.a.createElement(f.a,{exact:!0,path:"/admin",component:ie}),a&&r.a.createElement(f.a,{exact:!0,path:"/activity",component:fe}),r.a.createElement(f.a,{path:"/",component:j})))}}]),a}(n.Component);s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(de,null)),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.c46bc903.chunk.js.map