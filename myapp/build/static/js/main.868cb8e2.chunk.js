(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[0],{54:function(e,t,a){e.exports=a(90)},59:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(40),s=a.n(r),o=a(8),i=a(9),c=a(11),u=a(10),m=a(43),f=a.n(m),d=(a(59),a(41)),h=a.n(d),p=a(42),y=a.n(p),E=function(e){var t=e.handleClick;return l.a.createElement("div",{className:"row"},[1,2,3,4,5,6,7,8,9,17,0,15].map((function(e,a){return l.a.createElement("div",{key:e,className:"numPad col s4",onClick:function(a){return t(a,e)}},l.a.createElement("a",{className:"waves-effect waves-light indigo btn"},17==e?l.a.createElement(h.a,null):15==e?l.a.createElement(y.a,null):e))})))},b=a(17),g=a.n(b),v=a(26),w=a(19),S=a.n(w),k={users:{login:function(){var e=Object(v.a)(g.a.mark((function e(t,a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,S.a.defaults.headers.common.authorization=localStorage.getItem("token"),e.next=4,S.a.post("http://localhost:8080/api/users/login",{password:t});case 4:n=e.sent,a&&200===n.status&&a(n.data.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a(null);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()},transactions:{create:function(){var e=Object(v.a)(g.a.mark((function e(t,a,n,l,r){var s,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={id:t,email:a,amount:n,type:l},e.next=4,S.a.post("http://localhost:8080/api/transactions",{data:s});case 4:o=e.sent,r&&r(o.data),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),r(null);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a,n,l,r){return e.apply(this,arguments)}}(),get:function(){var e=Object(v.a)(g.a.mark((function e(t,a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.a.get("http://localhost:8080/api/transactions/"+t);case 3:n=e.sent,a(a?n.data:null),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()}},N=(a(82),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={password:"",wrongPassword:!1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;localStorage.getItem("token")&&k.users.login(null,(function(t){t&&e.props.history.push("/dashboard")}))}},{key:"handlePasswordChange",value:function(e){this.setState({password:e.target.value})}},{key:"handleClick",value:function(e,t){var a,n=this,l=this.state.password;if(17==t)a=l.slice(0,-1);else if(15==t){a="";var r=this.props;k.users.login(this.state.password,(function(e){e?(console.log("sending",n.state.password),localStorage.setItem("token",e.token),r.history.push("/dashboard")):(n.setState({wrongPassword:!0}),setTimeout((function(){return n.setState({wrongPassword:!1})}),1500))}))}else a=l+t;this.setState({password:a})}},{key:"render",value:function(){var e=this,t=this.state.password;return l.a.createElement("div",{className:"container",style:{display:"flex",height:window.innerHeight+"px",alignItems:"center"}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s12 center-align"},l.a.createElement(f.a,{color:"primary",style:{fontSize:70}})),l.a.createElement("div",{className:"col s12 m4 offset-m4 center-align"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s12"},l.a.createElement("input",{value:t||"",type:"number",placeholder:"Password",className:"center-align",onChange:function(t){return e.handlePasswordChange(t)}}),this.state.wrongPassword?l.a.createElement("div",{className:"login-toast"},l.a.createElement("p",null,"Wrong Password")):null),l.a.createElement("div",{className:"col s12 center-align"},l.a.createElement(E,{handleClick:this.handleClick.bind(this)}))))))}}]),a}(n.Component)),C=a(22),x=a(27),j=a(20),O=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.hidden,a=e.backgroundImage,n=e.onClick,r=e.reference,s=e.id_reference,o=e.onscroll_reference;if(t)return null;var i=Object.assign({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",boxSizing:"border-box"},this.props.style);return a&&(i.backgroundSize="cover",i.backgroundPosition="bottom",i.backgroundImage="url("+a+")"),null!=n&&(i.cursor="pointer"),l.a.createElement("div",{className:this.props.className,style:i,onClick:n,ref:r,id:s,onScroll:o},this.props.children)}}]),a}(n.Component);O.defaultProps={hidden:!1};var z=O,D=a(44),I=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.children,n=t.fontSize,r=(t.fontStyle,t.textAlign),s=t.color,o=t.uppercase,i=t.nowrap,c=t.onClick,u=t.animation,m=t.animationDelay,f=t.id_reference,d=t.className,h=(t.italic,Object.assign({display:"flex",alignItems:"center",overflow:"hidden",fontSize:n+"rem",textAlign:r,color:s,maxWidth:"100%"},this.props.style));return o&&null!=a&&"string"==typeof a&&(Object(D.a)("children"),a=a.toUpperCase()),null!=c&&(h.cursor="pointer"),1==i&&(h.whiteSpace="nowrap"),l.a.createElement("span",{id:f,style:h,className:d,onClick:c,ref:function(t){e.label=t},"data-aos":u,"data-aos-delay":m},a)}}]),a}(n.Component);I.defaultProps={fontSize:1,fontStyle:"regular",textAlign:"center",color:"#1e1e1e",uppercase:!1};var P=I,M=function(e){var t=e.handleSubmit;return l.a.createElement(z,{style:{width:"100%",padding:"15px"}},l.a.createElement("form",{style:{width:"100%"},onSubmit:function(e){e.preventDefault(),t()}},l.a.createElement(z,null,l.a.createElement(P,{fontSize:1.5},"Amount"),l.a.createElement("input",{name:"amount",onChange:function(t){return e.handleForm(t)},style:{textAlign:"center"},type:"number",placeholder:"Amount"})),l.a.createElement(P,{fontSize:1.5},"Who do you want to send?"),l.a.createElement(z,{style:{width:"100%"}},l.a.createElement("input",{onChange:function(t){return e.handleForm(t)},name:"email",type:"email",placeholder:"Enter email"}),l.a.createElement("input",{onChange:function(t){return e.handleForm(t)},name:"emailConfirmation",type:"email",placeholder:"Confirm email "})),l.a.createElement("button",{className:"btn primary",type:"submit"},l.a.createElement(P,{fontSize:1.2,color:"white"},"SEND"))))},L=a(18),A=a(45),_=a.n(A),F=a(46),T=a.n(F),B=a(48),q=a.n(B),H=a(47),R=a.n(H),U=a(49),W=a.n(U),$=(a(83),function(e){var t=e.userName,a=e.show,n=e.onClose;return l.a.createElement(l.a.Fragment,null,a?l.a.createElement(z,{className:"menu-background",style:{position:"absolute",width:"100%",height:"100%",top:"0",backgroundColor:"rgba(0,0,0,0.6)"}}):null,l.a.createElement(z,{className:"menu",style:{left:a?"0":"-100%"}},l.a.createElement(z,{className:"menu-header",style:{flexDirection:"row"}},l.a.createElement(P,{color:"white",fontSize:2},t),l.a.createElement(_.a,{onClick:function(){return n()},style:{fill:"#ffffff",fontSize:35,marginLeft:"30px"}})),l.a.createElement(z,{className:"menu-navigation",style:{width:"100%"}},l.a.createElement(L.b,{to:"/dashboard",style:{width:"100%"}},l.a.createElement(z,{className:"menu-navigation-item",style:{flexDirection:"row",justifyContent:"flex-start",width:"100%"}},l.a.createElement(T.a,{style:{fill:"#1e1e1e",fontSize:30}}),l.a.createElement(P,{fontSize:2},"Home"))),l.a.createElement(L.b,{to:"/activity",style:{width:"100%"}},l.a.createElement(z,{className:"menu-navigation-item",style:{flexDirection:"row",justifyContent:"flex-start",width:"100%"}},l.a.createElement(R.a,{style:{fill:"#1e1e1e",fontSize:30}}),l.a.createElement(P,{fontSize:2},"Activity"))),l.a.createElement(z,{className:"menu-navigation-item",style:{flexDirection:"row",justifyContent:"flex-start",width:"100%"}},l.a.createElement(q.a,{style:{fill:"#1e1e1e",fontSize:30}}),l.a.createElement(P,{fontSize:2},"Receipt")),l.a.createElement(z,{onClick:function(){localStorage.clear(),e.history.push("/")},className:"menu-navigation-item",style:{flexDirection:"row",justifyContent:"flex-start",width:"100%"}},l.a.createElement(W.a,{style:{fill:"#1e1e1e",fontSize:30}}),l.a.createElement(P,{fontSize:2},"Logout")))))}),J=(a(86),a(24)),G=a.n(J),Q=a(25),Y=a.n(Q),K=a(23),V=a.n(K),X=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={userName:null,balance:null,showSend:!0,menu:!1,type:"SEND",toastMessage:null},n.handleInputChange=n.handleInputChange.bind(Object(j.a)(n)),n}return Object(i.a)(a,[{key:"handleInputChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(x.a)(Object(x.a)({},this.state),{},Object(C.a)({},t,a)))}},{key:"handleCloseMenu",value:function(){this.setState({menu:!1})}},{key:"handleSendSubmit",value:function(){var e=this;console.log("submiting");var t=this.state,a=t.id,n=t.email,l=t.amount,r=t.emailConfirmation,s=t.balance,o=t.type;n&&l&&r?n===r?l<s?k.transactions.create(a,n,l,o,(function(t){"newBalance"in t&&e.setState({toastMessage:"Transfer successful",balance:t.newBalance,email:"",amount:"",emailConfirmation:""})})):console.log("Insuficient founds"):console.log("Emails does not looks like the same"):console.log("You must fill all form fields")}},{key:"componentDidUpdate",value:function(){var e=this;this.state.toastMessage&&setTimeout((function(){e.setState({toastMessage:null})}),2e3)}},{key:"componentDidMount",value:function(){this.checkLogin()}},{key:"checkLogin",value:function(){var e=this;k.users.login(null,(function(t){t?e.setState({userName:t.user.userName,balance:t.user.balance,id:t.user._id}):e.props.history.push("/")}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.balance,n=t.userName,r=t.showSend,s=t.menu;return l.a.createElement(z,{className:"dashboard",style:{width:"100%",height:"100%",justifyContent:"flex-start"}},l.a.createElement(z,{className:"dashboard-header",style:{width:"100%"}},l.a.createElement(V.a,{onClick:function(){return e.setState({menu:!s})},style:{fill:"#ffffff",fontSize:35,position:"absolute",left:"15px"}}),l.a.createElement(P,{color:"white",fontSize:2.4},"Home")),l.a.createElement(z,{className:"dashboard-balance"},l.a.createElement(P,{fontSize:4},a?"$"+a:"$0"),l.a.createElement(z,null,l.a.createElement(P,{fontSize:2},"Current balance"))),l.a.createElement(z,{className:"dashboard-actions"},l.a.createElement(z,{className:"dashboard-actions-tabs"},l.a.createElement(z,{className:"dashboard-actions-tabs-send",onClick:function(){e.setState({showSend:!0,type:"SEND"})}},l.a.createElement(G.a,null),l.a.createElement(P,null,"send")),l.a.createElement(z,{className:"dashboard-actions-tabs-request",onClick:function(){e.setState({showSend:!1,type:"REQUEST"})},style:{borderLeft:"1px solid #cccccc"}},l.a.createElement(Y.a,null),l.a.createElement(P,null,"request")),l.a.createElement(z,{className:"dashboard-actions-tabs-marker",style:{left:r?"0":"50%"}})),r?l.a.createElement(M,{handleForm:this.handleInputChange,handleSubmit:this.handleSendSubmit.bind(this)}):l.a.createElement(z,null,l.a.createElement(P,null,"Comming Soon request"))),l.a.createElement($,{history:this.props.history,show:s,userName:n,onClose:this.handleCloseMenu.bind(this)}),l.a.createElement(z,{className:"dashboard-toast",style:{width:"100%",position:"absolute",top:this.state.toastMessage?"0":"-30%",transition:".3s",backgroundColor:"#221858",padding:"20px"}},l.a.createElement(P,{fontSize:2,color:"white"},this.state.toastMessage)))}}]),a}(n.Component),Z=a(52),ee=a.n(Z),te=a(50),ae=a.n(te),ne=a(51),le=a.n(ne),re=(a(87),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={menu:!1,userName:null,balance:0,id:null,transactions:[]},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.checkLogin()}},{key:"checkLogin",value:function(){var e=this;k.users.login(null,(function(t){if(t){e.setState({userName:t.user.userName,balance:t.user.balance,id:t.user._id});var a=e.state.id;k.transactions.get(a,(function(t){console.log(t),e.setState({transactions:t})}))}else e.props.history.push("/")}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.menu,n=t.userName,r=t.transactions;return l.a.createElement(z,{className:"activity",style:{width:"100%",height:"100%",justifyContent:"flex-start"}},l.a.createElement(z,{className:"activity-header",style:{width:"100%"}},l.a.createElement(V.a,{onClick:function(){return e.setState({menu:!a})},style:{fill:"#ffffff",fontSize:35,position:"absolute",left:"15px"}}),l.a.createElement(P,{color:"white",fontSize:2.4},"Activity")),l.a.createElement(z,{className:"activity-container",style:{width:"100%"}},r.map((function(e){return l.a.createElement(z,{style:{width:"100%",padding:"10px",borderBottom:"1px solid #dddddd",flexDirection:"row",justifyContent:"flex-start"},key:e._id},l.a.createElement(z,{style:{width:"40px",height:"40px",borderRadius:"50px",backgroundColor:"#8895dc"}},"SEND"===e.type?l.a.createElement(G.a,{style:{fill:"#ffffff"}}):l.a.createElement(Y.a,null)),l.a.createElement(z,{style:{marginLeft:"10px"}},l.a.createElement(P,{fontSize:1.3},"To: ".concat(e.email))),l.a.createElement(z,{style:{marginLeft:"auto"}},"PENDING"==e.status?l.a.createElement(ae.a,{style:{fill:"#ffcf64",fontSize:"35px"}}):"DONE"==e.status?l.a.createElement(le.a,{style:{fill:"#049a04",fontSize:"35px"}}):l.a.createElement(ee.a,{style:{fill:"#e31b1b",fontSize:"35px"}}),l.a.createElement(P,{fontSize:.9},"".concat("SEND"==e.type?"-":""," $").concat(e.amount))))}))),l.a.createElement($,{history:this.props.history,show:a,userName:n,onClose:function(){return e.setState({menu:!1})}}))}}]),a}(n.Component)),se=a(2),oe=(a(88),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(L.a,null,l.a.createElement(se.c,null,l.a.createElement(se.a,{exact:!0,path:"/",component:N}),l.a.createElement(se.a,{exact:!0,path:"/dashboard",component:X}),l.a.createElement(se.a,{exact:!0,path:"/activity",component:re})))}}]),a}(n.Component));s.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(oe,null)),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.868cb8e2.chunk.js.map